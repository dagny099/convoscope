%% High-Level Architecture Diagram (Convoscope)

flowchart TB
    subgraph Frontend ["🎨 Frontend Layer"]
        UI["📱 Streamlit UI"]
        SESSION["📋 Session Management"]
    end

    subgraph Services ["⚙️ Service Layer"]
        LLM["🤖 LLM Service"]
        CONV["💬 Conversation Manager"]
        ERROR["⚠️ Error Handler"]
    end

    subgraph Storage ["💾 Storage Layer"]
        FILES["📁 File Storage"]
        CONVDB["📊 Conversation Data"]
    end

    subgraph External ["🌐 External APIs"]
        OPENAI["🔥 OpenAI API"]
        ANTHROPIC["🧠 Anthropic API"]
        GOOGLE["🌟 Google Gemini"]
    end

    UI <--> SESSION
    UI --> LLM
    UI --> CONV

    LLM <--> ERROR
    LLM --> OPENAI
    LLM --> ANTHROPIC
    LLM --> GOOGLE

    CONV --> FILES
    CONV --> CONVDB
    SESSION --> CONV

    classDef frontend fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    classDef services fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef storage fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef external fill:#e8f5e8,stroke:#388e3c,stroke-width:2px

    class UI,SESSION frontend
    class LLM,CONV,ERROR services
    class FILES,CONVDB storage
    class OPENAI,ANTHROPIC,GOOGLE external
