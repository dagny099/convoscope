%% High-Level Architecture Diagram (Convoscope)

flowchart TB
    subgraph Frontend ["ğŸ¨ Frontend Layer"]
        UI["ğŸ“± Streamlit UI"]
        SESSION["ğŸ“‹ Session Management"]
    end

    subgraph Services ["âš™ï¸ Service Layer"]
        LLM["ğŸ¤– LLM Service"]
        CONV["ğŸ’¬ Conversation Manager"]
        ERROR["âš ï¸ Error Handler"]
    end

    subgraph Storage ["ğŸ’¾ Storage Layer"]
        FILES["ğŸ“ File Storage"]
        CONVDB["ğŸ“Š Conversation Data"]
    end

    subgraph External ["ğŸŒ External APIs"]
        OPENAI["ğŸ”¥ OpenAI API"]
        ANTHROPIC["ğŸ§  Anthropic API"]
        GOOGLE["ğŸŒŸ Google Gemini"]
    end

    UI <--> SESSION
    UI --> LLM
    UI --> CONV

    LLM <--> ERROR
    LLM --> OPENAI
    LLM --> ANTHROPIC
    LLM --> GOOGLE

    CONV --> FILES
    CONV --> CONVDB
    SESSION --> CONV

    classDef frontend fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    classDef services fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef storage fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef external fill:#e8f5e8,stroke:#388e3c,stroke-width:2px

    class UI,SESSION frontend
    class LLM,CONV,ERROR services
    class FILES,CONVDB storage
    class OPENAI,ANTHROPIC,GOOGLE external
