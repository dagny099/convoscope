<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 905.15625 1211.890625" style="max-width: 905.156px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M649.613,62L649.613,66.167C649.613,70.333,649.613,78.667,649.613,86.333C649.613,94,649.613,101,649.613,104.5L649.613,108"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_0" d="M591.861,166L578.671,172.167C565.48,178.333,539.099,190.667,525.909,202.333C512.719,214,512.719,225,512.719,230.5L512.719,236"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_D_0" d="M707.366,166L720.556,172.167C733.746,178.333,760.127,190.667,773.317,202.333C786.508,214,786.508,225,786.508,230.5L786.508,236"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_E_0" d="M512.719,294L512.719,298.167C512.719,302.333,512.719,310.667,512.719,318.333C512.719,326,512.719,333,512.719,336.5L512.719,340"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_0" d="M512.719,398L512.719,402.167C512.719,406.333,512.719,414.667,512.719,422.333C512.719,430,512.719,437,512.719,440.5L512.719,444"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_G_0" d="M451.689,574.861L421.397,591.2C391.104,607.538,330.519,640.214,300.226,662.052C269.934,683.891,269.934,694.891,269.934,700.391L269.934,705.891"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_H_0" d="M510.902,634.074L510.775,640.543C510.647,647.013,510.392,659.952,510.264,671.921C510.137,683.891,510.137,694.891,510.137,700.391L510.137,705.891"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_I_0" d="M574.127,574.482L605.082,590.884C636.036,607.285,697.946,640.088,728.901,661.989C759.855,683.891,759.855,694.891,759.855,700.391L759.855,705.891"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_J_0" d="M269.934,763.891L269.934,768.057C269.934,772.224,269.934,780.557,269.934,788.224C269.934,795.891,269.934,802.891,269.934,806.391L269.934,809.891"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_J_0" d="M510.137,763.891L510.137,768.057C510.137,772.224,510.137,780.557,489.827,789.121C469.518,797.684,428.899,806.477,408.59,810.874L388.281,815.27"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_K_0" d="M759.855,763.891L759.855,768.057C759.855,772.224,759.855,780.557,759.855,788.224C759.855,795.891,759.855,802.891,759.855,806.391L759.855,809.891"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_J_L_0" d="M384.371,856.442L429.074,862.517C473.776,868.592,563.181,880.741,607.883,892.316C652.586,903.891,652.586,914.891,652.586,920.391L652.586,925.891"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_J_M_0" d="M264.202,867.891L263.317,872.057C262.433,876.224,260.664,884.557,259.779,892.224C258.895,899.891,258.895,906.891,258.895,910.391L258.895,913.891"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_M_N_0" d="M176.993,995.891L168.243,1000.057C159.493,1004.224,141.992,1012.557,133.242,1020.224C124.492,1027.891,124.492,1034.891,124.492,1038.391L124.492,1041.891"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_M_O_0" d="M340.796,995.891L349.546,1000.057C358.296,1004.224,375.797,1012.557,384.547,1020.224C393.297,1027.891,393.297,1034.891,393.297,1038.391L393.297,1041.891"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L_P_0" d="M652.586,983.891L652.586,990.057C652.586,996.224,652.586,1008.557,652.586,1018.224C652.586,1027.891,652.586,1034.891,652.586,1038.391L652.586,1041.891"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_N_Q_0" d="M124.492,1099.891L124.492,1104.057C124.492,1108.224,124.492,1116.557,124.492,1124.224C124.492,1131.891,124.492,1138.891,124.492,1142.391L124.492,1145.891"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_O_R_0" d="M393.297,1099.891L393.297,1104.057C393.297,1108.224,393.297,1116.557,393.297,1124.224C393.297,1131.891,393.297,1138.891,393.297,1142.391L393.297,1145.891"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(512.71875, 203)" class="edgeLabel"><g transform="translate(-17.375, -12)" class="label"><foreignObject height="24" width="34.75"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Valid</p></span></div></foreignObject></g></g><g transform="translate(786.5078125, 203)" class="edgeLabel"><g transform="translate(-23.8203125, -12)" class="label"><foreignObject height="24" width="47.640625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Invalid</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(269.93359375, 672.890625)" class="edgeLabel"><g transform="translate(-25.53125, -12)" class="label"><foreignObject height="24" width="51.0625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>OpenAI</p></span></div></foreignObject></g></g><g transform="translate(510.13671875, 672.890625)" class="edgeLabel"><g transform="translate(-49.8046875, -12)" class="label"><foreignObject height="24" width="99.609375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>OpenAI Failed</p></span></div></foreignObject></g></g><g transform="translate(759.85546875, 672.890625)" class="edgeLabel"><g transform="translate(-33.7109375, -12)" class="label"><foreignObject height="24" width="67.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>All Failed</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(649.61328125, 35)" id="flowchart-A-0" class="node default"><rect height="54" width="158.640625" y="-27" x="-79.3203125" style="fill:#e1f5fe !important" class="basic label-container"/><g transform="translate(-49.3203125, -12)" style="" class="label"><rect/><foreignObject height="24" width="98.640625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>🧑‍💻 User Input</p></span></div></foreignObject></g></g><g transform="translate(649.61328125, 139)" id="flowchart-B-1" class="node default"><rect height="54" width="198.21875" y="-27" x="-99.109375" style="" class="basic label-container"/><g transform="translate(-69.109375, -12)" style="" class="label"><rect/><foreignObject height="24" width="138.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>🔎 Input Validation</p></span></div></foreignObject></g></g><g transform="translate(512.71875, 267)" id="flowchart-C-3" class="node default"><rect height="54" width="226.28125" y="-27" x="-113.140625" style="" class="basic label-container"/><g transform="translate(-83.140625, -12)" style="" class="label"><rect/><foreignObject height="24" width="166.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>🧠 Session State Check</p></span></div></foreignObject></g></g><g transform="translate(786.5078125, 267)" id="flowchart-D-5" class="node default"><rect height="54" width="221.296875" y="-27" x="-110.6484375" style="" class="basic label-container"/><g transform="translate(-80.6484375, -12)" style="" class="label"><rect/><foreignObject height="24" width="161.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>❌ User-Friendly Error</p></span></div></foreignObject></g></g><g transform="translate(512.71875, 371)" id="flowchart-E-7" class="node default"><rect height="54" width="164.484375" y="-27" x="-82.2421875" style="" class="basic label-container"/><g transform="translate(-52.2421875, -12)" style="" class="label"><rect/><foreignObject height="24" width="104.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>🤖 LLM Router</p></span></div></foreignObject></g></g><g transform="translate(512.71875, 541.9453125)" id="flowchart-F-9" class="node default"><polygon transform="translate(-93.4453125, 93.9453125)" class="label-container" points="93.9453125,0 187.890625,-93.9453125 93.9453125,-187.890625 0,-93.9453125"/><g transform="translate(-66.9453125, -12)" style="" class="label"><rect/><foreignObject height="24" width="133.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Provider Available?</p></span></div></foreignObject></g></g><g transform="translate(269.93359375, 736.890625)" id="flowchart-G-11" class="node default"><rect height="54" width="162.625" y="-27" x="-81.3125" style="" class="basic label-container"/><g transform="translate(-51.3125, -12)" style="" class="label"><rect/><foreignObject height="24" width="102.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>🔥 OpenAI API</p></span></div></foreignObject></g></g><g transform="translate(510.13671875, 736.890625)" id="flowchart-H-13" class="node default"><rect height="54" width="217.78125" y="-27" x="-108.890625" style="" class="basic label-container"/><g transform="translate(-78.890625, -12)" style="" class="label"><rect/><foreignObject height="24" width="157.78125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>🧠 Anthropic Fallback</p></span></div></foreignObject></g></g><g transform="translate(759.85546875, 736.890625)" id="flowchart-I-15" class="node default"><rect height="54" width="181.65625" y="-27" x="-90.828125" style="fill:#ffebee !important" class="basic label-container"/><g transform="translate(-60.828125, -12)" style="" class="label"><rect/><foreignObject height="24" width="121.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>🚨 Error Handler</p></span></div></foreignObject></g></g><g transform="translate(269.93359375, 840.890625)" id="flowchart-J-17" class="node default"><rect height="54" width="228.875" y="-27" x="-114.4375" style="" class="basic label-container"/><g transform="translate(-84.4375, -12)" style="" class="label"><rect/><foreignObject height="24" width="168.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>🧵 Response Processing</p></span></div></foreignObject></g></g><g transform="translate(759.85546875, 840.890625)" id="flowchart-K-21" class="node default"><rect height="54" width="220.265625" y="-27" x="-110.1328125" style="fill:#ffebee !important" class="basic label-container"/><g transform="translate(-80.1328125, -12)" style="" class="label"><rect/><foreignObject height="24" width="160.265625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>❗ User Error Message</p></span></div></foreignObject></g></g><g transform="translate(652.5859375, 956.890625)" id="flowchart-L-23" class="node default"><rect height="54" width="174.890625" y="-27" x="-87.4453125" style="" class="basic label-container"/><g transform="translate(-57.4453125, -12)" style="" class="label"><rect/><foreignObject height="24" width="114.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>🔊 Stream to UI</p></span></div></foreignObject></g></g><g transform="translate(258.89453125, 956.890625)" id="flowchart-M-25" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>💾 Save to Conversation Manager</p></span></div></foreignObject></g></g><g transform="translate(124.4921875, 1072.890625)" id="flowchart-N-27" class="node default"><rect height="54" width="170.0625" y="-27" x="-85.03125" style="" class="basic label-container"/><g transform="translate(-55.03125, -12)" style="" class="label"><rect/><foreignObject height="24" width="110.0625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>📁 File Storage</p></span></div></foreignObject></g></g><g transform="translate(393.296875, 1072.890625)" id="flowchart-O-29" class="node default"><rect height="54" width="210.296875" y="-27" x="-105.1484375" style="" class="basic label-container"/><g transform="translate(-75.1484375, -12)" style="" class="label"><rect/><foreignObject height="24" width="150.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>🛟 Auto-save Backup</p></span></div></foreignObject></g></g><g transform="translate(652.5859375, 1072.890625)" id="flowchart-P-31" class="node default"><rect height="54" width="191.96875" y="-27" x="-95.984375" style="fill:#e8f5e8 !important" class="basic label-container"/><g transform="translate(-65.984375, -12)" style="" class="label"><rect/><foreignObject height="24" width="131.96875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>📺 Display to User</p></span></div></foreignObject></g></g><g transform="translate(124.4921875, 1176.890625)" id="flowchart-Q-33" class="node default"><rect height="54" width="232.984375" y="-27" x="-116.4921875" style="" class="basic label-container"/><g transform="translate(-86.4921875, -12)" style="" class="label"><rect/><foreignObject height="24" width="172.984375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>🗂️ Conversation History</p></span></div></foreignObject></g></g><g transform="translate(393.296875, 1176.890625)" id="flowchart-R-35" class="node default"><rect height="54" width="204.625" y="-27" x="-102.3125" style="" class="basic label-container"/><g transform="translate(-72.3125, -12)" style="" class="label"><rect/><foreignObject height="24" width="144.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>🧯 Recovery System</p></span></div></foreignObject></g></g></g></g></g></svg>